@using MonackFr.Mvc.Entities @* should be removed (viewmodels)*@
@model IEnumerable<User>
@{
    ViewBag.Title = "Index";
}

	<script type="text/javascript">
		
		monackfr.prototype.TestMethod = function panelLoaded() {
			console.log("panelLoaded Hit")
		};
	</script>

<h3>Users</h3>
@Html.ActionLink("New", "Create")
<ol class="userlist">
@foreach (User item in Model)
{
    <li class="user">
		@item.Id
		@item.Creation.ToShortDateString()
		@item.LastUpdate.ToShortDateString()
		<a href="javascript: showPanel('MonackFr-UserManagement-Users-Panel-UserDetails', function() {alert('test');});">Details JS</a>
		@Html.ActionLink(@item.UserName, "Details", new {id = item.Id}) 
		@Html.ActionLink("Edit", "Edit", new { id = item.Id })		
		@using (Html.BeginForm("Delete", "User", new { id = item.Id })) {

						<input type="submit" id="deletebutton" value="delete" />
		}

	</li>
}
</ol>
